for 'N' files with the extension "yaml" in cicd-poc folder, fetch path of each file such that after any modification, the script should execute the git diff command for HEAD~1 and HEAD along witht he path of that current file.

for file in *.yaml;
    do
        if [[ -e "file" ]]; then
            git diff HEAD~1 HEAD -- "file"
        file
    done


for i in os.listdir(cicd):
    if i.endswith('.yaml'):
        path = os.path.join(cicd, i)

I need a python script, which can go to the desired folder(ask for input), and for each yaml file execute the command  git diff Head~1 HEAD {filename.yaml}. List down the difference on standard output. 

Secondly what i want add the + keys inside the config-dev.json file. and remove - keys from the config-dev.json file. 
Below I am providing sample config-dev.json. 
{
    "account": {
      "MY_ID": "acc-xyz",
      "MY_NAME": "acc-name",
      "MY_ID1": "acc-xyz",
      "MY_ID2": "acc-xyz",
      "MY_ID3": "123456",
      "MY_ID4": "765432",
      "MY_ID5": "acc-xyz",
    },
    "admin": {
      "MY_AD": "admin-xyz",
      "MY_NAME": "admin-name",
      "MY_AD1": "admin-xyz",
      "MY_AD2": "admin-xyz",
      "MY_AD3": "123456",
      "MY_AD4": "765432",
      "MY_AD5": "admin-xyz",
      }
}

 Here + keys will be added keys inside the .yaml file & - keys will be removed keys from .yaml file.

 
I need a python script, which can go to the desired folder(ask for input), and for each yaml file execute the command  git diff Head~1 HEAD {filename.yaml}. List down the difference on standard output. 


my script should perform the folowing steps 
step 1: first fetch the git diff in the last and previous last commit of all the yaml files present in the folder, and it should store the the diff output in a file called git_diff.txt. 
step 2: It should parse through the diff g for each yaml diff in file in the git_diffdiff.txt create a dictionary with the name of yaml file which will inturn containe 2 lists addition and deletion inside the lists we can have the updated key-value pairs based on + for addition and - for deletion. and once it parses all the diffs in diff.txt, it should fetch 

step 2: In the git_diff.txt file the output for each yaml file is separated by trailing '-' 100 characters. it should parse through each section, for the diff output for each yaml file, if there is a statement called "No differences found." then continue to check the diff output of next yaml file.
















